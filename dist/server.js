module.exports=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=5)}([function(e,t){e.exports=require("react")},function(e,t){e.exports=require("react-router-dom")},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.NotFoundPage=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),c=function(e){return e&&e.__esModule?e:{default:e}}(a),l=n(1),s=t.NotFoundPage=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),i(t,[{key:"componentWillMount",value:function(){var e=this.props.staticContext;e&&(e.is404=!0)}},{key:"render",value:function(){return c.default.createElement("div",{className:"not-found"},c.default.createElement("h1",null,"404"),c.default.createElement("h2",null,"Page not found!"),c.default.createElement("p",null,c.default.createElement(l.Link,{to:"/"},"Go back to the main page")))}}]),t}(c.default.Component);t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(0),i=r(u),a=n(13),c=r(a),l=n(4),s=r(l),f=n(2),p=r(f);t.default=function(e,t){return[{path:"/",component:c.default,exact:!0},{path:"/page/:uid",component:s.default,render:function(n){return i.default.createElement(s.default,o({},n,{prismicCtx:e,PRISMIC_UNIVERSAL_DATA:t}))}},{component:p.default}]}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=r(c),s=n(2),f=(r(s),n(1)),p=n(14),d=r(p),_=function(e){function t(e){o(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={notFound:!1,linkResolver:null},n}return i(t,e),a(t,[{key:"render",value:function(){if(this.props.PRISMIC_UNIVERSAL_DATA){var e="get-started"===this.props.PRISMIC_UNIVERSAL_DATA.uid?"/page/second-page":"/page/get-started";return l.default.createElement("div",null,l.default.createElement(f.Link,{to:e},"Link"),l.default.createElement("pre",null,JSON.stringify(this.props.PRISMIC_UNIVERSAL_DATA,null,2)))}if(this.state.notFound)return l.default.createElement(NotFoundPage,null)}}]),t}(l.default.Component);t.default=d.default.UniversalComponent({request:function(e,t){return e.api.getByUID("page",t.match.params.uid,{})},component:_})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n,r,o){(r.component.PRISMIC_FETCH_REQUEST&&r.component.PRISMIC_FETCH_REQUEST()||function(){return Promise.resolve()})(t.locals.ctx,{match:o}).then(function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r={},o=(0,_.renderToString)(f.default.createElement(v.StaticRouter,{location:e.url,context:r},f.default.createElement(m.default,{primicCtx:t.locals.ctx,PRISMIC_UNIVERSAL_DATA:n})));if(r.url)return t.redirect(302,r.url);var u=r.is404?404:200;return t.status(u).render("index",{markup:o,PRISMIC_UNIVERSAL_DATA:n})}).catch(function(e){return n(e.message)})}var u=n(6),i=r(u),a=n(7),c=n(8),l=r(c),s=n(0),f=r(s),p=n(9),d=r(p),_=n(10),v=n(1),h=n(11),m=r(h),y=n(3),b=r(y),E=n(15),I=r(E),P=new l.default,O=new a.Server(P);P.set("view engine","ejs"),P.set("views",i.default.join(__dirname,"../views")),P.use(l.default.static(i.default.join(__dirname,"../dist"))),P.use(function(e,t,n){t.locals.ctx={endpoint:I.default.apiEndpoint,linkResolver:I.default.linkResolver},d.default.api(I.default.apiEndpoint,{accessToken:I.default.accessToken,req:e}).then(function(e){t.locals.ctx.api=e,n()}).catch(function(e){n(e.message)})}),P.get("*",function(e,t,n){(0,b.default)(t.locals.ctx).some(function(r){var u=(0,v.matchPath)(e.url,r);return u&&o(e,t,n,r,u),u})});var g=process.env.PORT||3e3;O.listen(g,function(e){return e?console.error(e):console.info("\n      Server running on http://localhost:"+g+" [production]\n    ")})},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("http")},function(e,t){e.exports=require("express")},function(e,t){e.exports=require("prismic-javascript")},function(e,t){e.exports=require("react-dom/server")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;var o=n(0),u=(r(o),n(12)),i=r(u),a=n(4),c=(r(a),n(2),t.App=function(e){return(0,i.default)(e)});t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(0),i=r(u),a=n(1),c=n(3),l=r(c);t.default=function(e){var t=e.prismicCtx,n=e.PRISMIC_UNIVERSAL_DATA;return i.default.createElement(a.Switch,null,(0,l.default)(t,n).map(function(e,t){var n=Object.assign({},e);return n.render&&delete n.component,i.default.createElement(a.Route,o({key:"route-"+t},n))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(e){return o.default.createElement("div",null,"This is my homepage")}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){var t=e.request,n=e.component;if(!t)throw new Error("Missing prismic query in Fetch Decorator <--\x3e Prismic React");return function(e){function i(e){r(this,i);var t=o(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e));return t.state={PRISMIC_UNIVERSAL_DATA:null},t}return u(i,e),a(i,[{key:"isValidObject",value:function(e){return e&&e.constructor===Object&&Object.keys(e).length>0}},{key:"componentWillMount",value:function(){var e=this;this.isValidObject(this.props.PRISMIC_UNIVERSAL_DATA)?Promise.resolve(this.props.PRISMIC_UNIVERSAL_DATA):t(this.props.prismicCtx,this.props).then(function(t){e.setState({PRISMIC_UNIVERSAL_DATA:t})}).catch(function(e){return console.log(e.message)})}},{key:"componentWillReceiveProps",value:function(e){var n=this;t(e.prismicCtx,e).then(function(e){n.setState({PRISMIC_UNIVERSAL_DATA:e})}).catch(function(e){return console.log(e.message)})}},{key:"render",value:function(){var e=this.state.PRISMIC_UNIVERSAL_DATA?{PRISMIC_UNIVERSAL_DATA:this.state.PRISMIC_UNIVERSAL_DATA}:{},t=Object.assign({},this.props,e);return l.default.createElement(n,t)}}],[{key:"PRISMIC_FETCH_REQUEST",value:function(){return t}}]),i}(l.default.Component)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=function(e){return e&&e.__esModule?e:{default:e}}(c);t.default={UniversalComponent:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={apiEndpoint:"https://prismic-universal.prismic.io/api/v2",linkResolver:function(e,t){return"/"}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc2VydmVyLmpzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCAzYzA0YWY4YTk4ZDViOTY1OTlhZiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJyZWFjdFwiIiwid2VicGFjazovLy9leHRlcm5hbCBcInJlYWN0LXJvdXRlci1kb21cIiIsIndlYnBhY2s6Ly8vLi9zcmMvc2hhcmVkL2FwcC9Ob3RGb3VuZFBhZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NoYXJlZC9yb3V0ZXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NoYXJlZC9hcHAvUGFnZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyL2luZGV4LmpzIiwid2VicGFjazovLy9leHRlcm5hbCBcInBhdGhcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJodHRwXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiZXhwcmVzc1wiIiwid2VicGFjazovLy9leHRlcm5hbCBcInByaXNtaWMtamF2YXNjcmlwdFwiIiwid2VicGFjazovLy9leHRlcm5hbCBcInJlYWN0LWRvbS9zZXJ2ZXJcIiIsIndlYnBhY2s6Ly8vLi9zcmMvc2hhcmVkL2FwcC9BcHAuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NoYXJlZC9yb3V0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NoYXJlZC9hcHAvSG9tZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcHJpc21pYy1yZWFjdC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcHJpc21pYy1jb25maWd1cmF0aW9uLmpzIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJtb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaW5zdGFsbGVkTW9kdWxlcyIsImkiLCJsIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0IiwibiIsIl9fZXNNb2R1bGUiLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJyZXF1aXJlIiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwic2VsZiIsIlJlZmVyZW5jZUVycm9yIiwiX2luaGVyaXRzIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJ2YWx1ZSIsIndyaXRhYmxlIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJOb3RGb3VuZFBhZ2UiLCJ1bmRlZmluZWQiLCJfY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJsZW5ndGgiLCJkZXNjcmlwdG9yIiwia2V5IiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiX3JlYWN0IiwiX3JlYWN0MiIsIm9iaiIsImRlZmF1bHQiLCJfcmVhY3RSb3V0ZXJEb20iLCJfUmVhY3QkQ29tcG9uZW50IiwidGhpcyIsImdldFByb3RvdHlwZU9mIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJzdGF0aWNDb250ZXh0IiwiaXM0MDQiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwiTGluayIsInRvIiwiQ29tcG9uZW50IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9leHRlbmRzIiwiYXNzaWduIiwic291cmNlIiwiX0hvbWUiLCJfSG9tZTIiLCJfUGFnZSIsIl9QYWdlMiIsIl9Ob3RGb3VuZFBhZ2UiLCJfTm90Rm91bmRQYWdlMiIsInByaXNtaWNDdHgiLCJQUklTTUlDX1VOSVZFUlNBTF9EQVRBIiwicGF0aCIsImNvbXBvbmVudCIsImV4YWN0IiwicmVuZGVyIiwiX3ByaXNtaWNSZWFjdCIsIl9wcmlzbWljUmVhY3QyIiwiUGFnZSIsIl90aGlzIiwic3RhdGUiLCJub3RGb3VuZCIsImxpbmtSZXNvbHZlciIsImxpbmtVcmwiLCJ1aWQiLCJKU09OIiwic3RyaW5naWZ5IiwiVW5pdmVyc2FsQ29tcG9uZW50IiwicmVxdWVzdCIsImN0eCIsImFwaSIsImdldEJ5VUlEIiwibWF0Y2giLCJwYXJhbXMiLCJtYWtlQXN5bmNSZW5kZXIiLCJyZXEiLCJyZXMiLCJuZXh0Iiwicm91dGUiLCJQUklTTUlDX0ZFVENIX1JFUVVFU1QiLCJQcm9taXNlIiwicmVzb2x2ZSIsImxvY2FscyIsInRoZW4iLCJjb250ZXh0IiwibWFya3VwIiwiX3NlcnZlciIsInJlbmRlclRvU3RyaW5nIiwiU3RhdGljUm91dGVyIiwibG9jYXRpb24iLCJ1cmwiLCJfQXBwMiIsInByaW1pY0N0eCIsInJlZGlyZWN0Iiwic3RhdHVzIiwiY2F0Y2giLCJlIiwibWVzc2FnZSIsIl9wYXRoIiwiX3BhdGgyIiwiX2h0dHAiLCJfZXhwcmVzcyIsIl9leHByZXNzMiIsIl9wcmlzbWljSmF2YXNjcmlwdCIsIl9wcmlzbWljSmF2YXNjcmlwdDIiLCJfQXBwIiwiX3JvdXRlcyIsIl9yb3V0ZXMyIiwiX3ByaXNtaWNDb25maWd1cmF0aW9uIiwiX3ByaXNtaWNDb25maWd1cmF0aW9uMiIsImFwcCIsInNlcnZlciIsIlNlcnZlciIsInNldCIsImpvaW4iLCJfX2Rpcm5hbWUiLCJ1c2UiLCJzdGF0aWMiLCJlbmRwb2ludCIsImFwaUVuZHBvaW50IiwiYWNjZXNzVG9rZW4iLCJlcnJvciIsInNvbWUiLCJtYXRjaFBhdGgiLCJwb3J0IiwicHJvY2VzcyIsImVudiIsIlBPUlQiLCJsaXN0ZW4iLCJlcnIiLCJjb25zb2xlIiwiaW5mbyIsIkFwcCIsIl9yb3V0ZXIiLCJfcm91dGVyMiIsIl9yZWYiLCJTd2l0Y2giLCJtYXAiLCJpbmRleCIsImNvcHlSb3V0ZSIsIlJvdXRlIiwiZm5GZXRjaERhdGEiLCJXcmFwcGVkQ29tcG9uZW50IiwiRXJyb3IiLCJfY2xhc3MiLCJrZXlzIiwiX3RoaXMyIiwiaXNWYWxpZE9iamVjdCIsInNldFN0YXRlIiwibG9nIiwiX3Ro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QWUsRUFBVSxTQUFXbUMsS0FBWUEsRUFBV1YsVUFBVyxHQUFNM0IsT0FBT0MsZUFBZWlDLEVBQVFHLEVBQVdDLElBQUtELElBQWlCLE1BQU8sVUFBVXJCLEVBQWF1QixFQUFZQyxHQUFpSixNQUE5SEQsSUFBWU4sRUFBaUJqQixFQUFZUCxVQUFXOEIsR0FBaUJDLEdBQWFQLEVBQWlCakIsRUFBYXdCLEdBQXFCeEIsTWdCdGlCaGlCeUIsRUFBQXJELEVBQUEsR2hCMGlCSXNELEVBRUosU0FBZ0NDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSXJDLFdBQWFxQyxHQUFRQyxRQUFTRCxJQUZsREYsRUE0RXJDdkQsR0FBUTBELFNnQnRrQlF5Qyx1QmhCMGtCVixTQUFVcEcsRUFBUUMsRUFBU0UsR0FFakMsWUFHQVksUUFBT0MsZUFBZWYsRUFBUyxjQUM3QndDLE9BQU8sSUFFVHhDLEVBQVEwRCxTaUJob0JONkYsWUFBYSw4Q0FZYnpELGFBZGEsU0FjQTJGLEVBQUtwRixHQUNoQixNQUFPIiwiZmlsZSI6InNlcnZlci5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID1cbi8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0aTogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9XG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4vKioqKioqLyBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuLyoqKioqKi8gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbi8qKioqKiovIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbi8qKioqKiovIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbi8qKioqKiovIFx0XHRcdH0pO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuLyoqKioqKi8gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuLyoqKioqKi8gXHRcdHJldHVybiBnZXR0ZXI7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA1KTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicmVhY3RcIik7XG5cbi8qKiovIH0pLFxuLyogMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWFjdC1yb3V0ZXItZG9tXCIpO1xuXG4vKioqLyB9KSxcbi8qIDIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuTm90Rm91bmRQYWdlID0gdW5kZWZpbmVkO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcmVhY3RSb3V0ZXJEb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9IC8qIGVzbGludCByZWFjdC9mb3JiaWQtcHJvcC10eXBlczogXCJvZmZcIiAqL1xuXG52YXIgTm90Rm91bmRQYWdlID0gZXhwb3J0cy5Ob3RGb3VuZFBhZ2UgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoTm90Rm91bmRQYWdlLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBOb3RGb3VuZFBhZ2UoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE5vdEZvdW5kUGFnZSk7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKE5vdEZvdW5kUGFnZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKE5vdEZvdW5kUGFnZSkpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKE5vdEZvdW5kUGFnZSwgW3tcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsTW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgICB2YXIgc3RhdGljQ29udGV4dCA9IHRoaXMucHJvcHMuc3RhdGljQ29udGV4dDtcblxuICAgICAgaWYgKHN0YXRpY0NvbnRleHQpIHtcbiAgICAgICAgc3RhdGljQ29udGV4dC5pczQwNCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyBjbGFzc05hbWU6ICdub3QtZm91bmQnIH0sXG4gICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdoMScsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICAnNDA0J1xuICAgICAgICApLFxuICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnaDInLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgJ1BhZ2Ugbm90IGZvdW5kISdcbiAgICAgICAgKSxcbiAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ3AnLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICBfcmVhY3RSb3V0ZXJEb20uTGluayxcbiAgICAgICAgICAgIHsgdG86ICcvJyB9LFxuICAgICAgICAgICAgJ0dvIGJhY2sgdG8gdGhlIG1haW4gcGFnZSdcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE5vdEZvdW5kUGFnZTtcbn0oX3JlYWN0Mi5kZWZhdWx0LkNvbXBvbmVudCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IE5vdEZvdW5kUGFnZTtcblxuLyoqKi8gfSksXG4vKiAzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9Ib21lID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7XG5cbnZhciBfSG9tZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Ib21lKTtcblxudmFyIF9QYWdlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxudmFyIF9QYWdlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1BhZ2UpO1xuXG52YXIgX05vdEZvdW5kUGFnZSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbnZhciBfTm90Rm91bmRQYWdlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX05vdEZvdW5kUGFnZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChwcmlzbWljQ3R4LCBQUklTTUlDX1VOSVZFUlNBTF9EQVRBKSB7XG4gIHJldHVybiBbeyBwYXRoOiAnLycsXG4gICAgY29tcG9uZW50OiBfSG9tZTIuZGVmYXVsdCxcbiAgICBleGFjdDogdHJ1ZVxuICB9LCB7XG4gICAgcGF0aDogJy9wYWdlLzp1aWQnLFxuICAgIC8vbXVzdCBiZSBzcGVjaWZpZWQgZXZlbiB3aXRoIGEgcmVuZGVyIGZ1bmN0aW9uXG4gICAgY29tcG9uZW50OiBfUGFnZTIuZGVmYXVsdCxcbiAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihwcm9wcykge1xuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9QYWdlMi5kZWZhdWx0LCBfZXh0ZW5kcyh7fSwgcHJvcHMsIHsgcHJpc21pY0N0eDogcHJpc21pY0N0eCwgUFJJU01JQ19VTklWRVJTQUxfREFUQTogUFJJU01JQ19VTklWRVJTQUxfREFUQSB9KSk7XG4gICAgfVxuICB9LCB7XG4gICAgY29tcG9uZW50OiBfTm90Rm91bmRQYWdlMi5kZWZhdWx0XG4gIH1dO1xufTtcblxuLyoqKi8gfSksXG4vKiA0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9Ob3RGb3VuZFBhZ2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG52YXIgX05vdEZvdW5kUGFnZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Ob3RGb3VuZFBhZ2UpO1xuXG52YXIgX3JlYWN0Um91dGVyRG9tID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxudmFyIF9wcmlzbWljUmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KTtcblxudmFyIF9wcmlzbWljUmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJpc21pY1JlYWN0KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgUGFnZSA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhQYWdlLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBQYWdlKHByb3BzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBhZ2UpO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFBhZ2UuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihQYWdlKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBub3RGb3VuZDogZmFsc2UsXG4gICAgICBsaW5rUmVzb2x2ZXI6IG51bGxcbiAgICB9O1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhQYWdlLCBbe1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLlBSSVNNSUNfVU5JVkVSU0FMX0RBVEEpIHtcbiAgICAgICAgdmFyIGxpbmtVcmwgPSB0aGlzLnByb3BzLlBSSVNNSUNfVU5JVkVSU0FMX0RBVEEudWlkID09PSAnZ2V0LXN0YXJ0ZWQnID8gJy9wYWdlL3NlY29uZC1wYWdlJyA6ICcvcGFnZS9nZXQtc3RhcnRlZCc7XG4gICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX3JlYWN0Um91dGVyRG9tLkxpbmssXG4gICAgICAgICAgICB7IHRvOiBsaW5rVXJsIH0sXG4gICAgICAgICAgICAnTGluaydcbiAgICAgICAgICApLFxuICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ3ByZScsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkodGhpcy5wcm9wcy5QUklTTUlDX1VOSVZFUlNBTF9EQVRBLCBudWxsLCAyKVxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5ub3RGb3VuZCkge1xuICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoTm90Rm91bmRQYWdlLCBudWxsKTtcbiAgICAgIH1cbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUGFnZTtcbn0oX3JlYWN0Mi5kZWZhdWx0LkNvbXBvbmVudCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IF9wcmlzbWljUmVhY3QyLmRlZmF1bHQuVW5pdmVyc2FsQ29tcG9uZW50KHtcbiAgcmVxdWVzdDogZnVuY3Rpb24gcmVxdWVzdChjdHgsIHByb3BzKSB7XG4gICAgcmV0dXJuIGN0eC5hcGkuZ2V0QnlVSUQoJ3BhZ2UnLCBwcm9wcy5tYXRjaC5wYXJhbXMudWlkLCB7fSk7XG4gIH0sXG4gIGNvbXBvbmVudDogUGFnZVxufSk7XG5cbi8qKiovIH0pLFxuLyogNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgX3BhdGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG52YXIgX3BhdGgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGF0aCk7XG5cbnZhciBfaHR0cCA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cbnZhciBfZXhwcmVzcyA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cbnZhciBfZXhwcmVzczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHByZXNzKTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3ByaXNtaWNKYXZhc2NyaXB0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblxudmFyIF9wcmlzbWljSmF2YXNjcmlwdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcmlzbWljSmF2YXNjcmlwdCk7XG5cbnZhciBfc2VydmVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG5cbnZhciBfcmVhY3RSb3V0ZXJEb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG52YXIgX0FwcCA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXG52YXIgX0FwcDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9BcHApO1xuXG52YXIgX3JvdXRlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbnZhciBfcm91dGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JvdXRlcyk7XG5cbnZhciBfcHJpc21pY0NvbmZpZ3VyYXRpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTtcblxudmFyIF9wcmlzbWljQ29uZmlndXJhdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcmlzbWljQ29uZmlndXJhdGlvbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qIGVzbGludCBuby1jb25zb2xlOiBcIm9mZlwiICovXG52YXIgYXBwID0gbmV3IF9leHByZXNzMi5kZWZhdWx0KCk7XG52YXIgc2VydmVyID0gbmV3IF9odHRwLlNlcnZlcihhcHApO1xuXG4vLyB1c2UgZWpzIHRlbXBsYXRlc1xuYXBwLnNldCgndmlldyBlbmdpbmUnLCAnZWpzJyk7XG5hcHAuc2V0KCd2aWV3cycsIF9wYXRoMi5kZWZhdWx0LmpvaW4oX19kaXJuYW1lLCAnLi4vdmlld3MnKSk7XG5cbi8vIGRlZmluZSB0aGUgZm9sZGVyIHRoYXQgd2lsbCBiZSB1c2VkIGZvciBzdGF0aWMgYXNzZXRzXG5hcHAudXNlKF9leHByZXNzMi5kZWZhdWx0LnN0YXRpYyhfcGF0aDIuZGVmYXVsdC5qb2luKF9fZGlybmFtZSwgJy4uL2Rpc3QnKSkpO1xuXG4vLyBNaWRkbGV3YXJlIHRvIGluamVjdCBwcmlzbWljIGNvbnRleHRcbmFwcC51c2UoZnVuY3Rpb24gKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHJlcy5sb2NhbHMuY3R4ID0ge1xuICAgIGVuZHBvaW50OiBfcHJpc21pY0NvbmZpZ3VyYXRpb24yLmRlZmF1bHQuYXBpRW5kcG9pbnQsXG4gICAgbGlua1Jlc29sdmVyOiBfcHJpc21pY0NvbmZpZ3VyYXRpb24yLmRlZmF1bHQubGlua1Jlc29sdmVyXG4gIH07XG4gIC8vIGFkZCBQcmlzbWljRE9NIGluIGxvY2FscyB0byBhY2Nlc3MgdGhlbSBpbiB0ZW1wbGF0ZXMuXG4gIF9wcmlzbWljSmF2YXNjcmlwdDIuZGVmYXVsdC5hcGkoX3ByaXNtaWNDb25maWd1cmF0aW9uMi5kZWZhdWx0LmFwaUVuZHBvaW50LCB7XG4gICAgYWNjZXNzVG9rZW46IF9wcmlzbWljQ29uZmlndXJhdGlvbjIuZGVmYXVsdC5hY2Nlc3NUb2tlbixcbiAgICByZXE6IHJlcVxuICB9KS50aGVuKGZ1bmN0aW9uIChhcGkpIHtcbiAgICByZXMubG9jYWxzLmN0eC5hcGkgPSBhcGk7XG4gICAgbmV4dCgpO1xuICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICBuZXh0KGVycm9yLm1lc3NhZ2UpO1xuICB9KTtcbn0pO1xuXG4vLyB1bml2ZXJzYWwgcm91dGluZyBhbmQgcmVuZGVyaW5nXG5hcHAuZ2V0KCcqJywgZnVuY3Rpb24gKHJlcSwgcmVzLCBuZXh0KSB7XG4gICgwLCBfcm91dGVzMi5kZWZhdWx0KShyZXMubG9jYWxzLmN0eCkuc29tZShmdW5jdGlvbiAocm91dGUpIHtcbiAgICAvLyB1c2UgYG1hdGNoUGF0aGAgaGVyZVxuICAgIHZhciBtYXRjaCA9ICgwLCBfcmVhY3RSb3V0ZXJEb20ubWF0Y2hQYXRoKShyZXEudXJsLCByb3V0ZSk7XG4gICAgaWYgKG1hdGNoKSBtYWtlQXN5bmNSZW5kZXIocmVxLCByZXMsIG5leHQsIHJvdXRlLCBtYXRjaCk7XG4gICAgcmV0dXJuIG1hdGNoO1xuICB9KTtcbn0pO1xuXG4vL2V4ZWMgYXN5bmMgcmVuZGVyIGZvciBtYXRjaGluZyByb3V0ZVxuZnVuY3Rpb24gbWFrZUFzeW5jUmVuZGVyKHJlcSwgcmVzLCBuZXh0LCByb3V0ZSwgbWF0Y2gpIHtcbiAgdmFyIGZldGNoQXN5bmNEYXRhID0gcm91dGUuY29tcG9uZW50LlBSSVNNSUNfRkVUQ0hfUkVRVUVTVCAmJiByb3V0ZS5jb21wb25lbnQuUFJJU01JQ19GRVRDSF9SRVFVRVNUKCkgfHwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfTtcbiAgZmV0Y2hBc3luY0RhdGEocmVzLmxvY2Fscy5jdHgsIC8qcHJvcHMqL3sgbWF0Y2g6IG1hdGNoIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgIHZhciBQUklTTUlDX1VOSVZFUlNBTF9EQVRBID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcblxuICAgIHZhciBjb250ZXh0ID0ge307XG4gICAgdmFyIG1hcmt1cCA9ICgwLCBfc2VydmVyLnJlbmRlclRvU3RyaW5nKShfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICAgIF9yZWFjdFJvdXRlckRvbS5TdGF0aWNSb3V0ZXIsXG4gICAgICB7IGxvY2F0aW9uOiByZXEudXJsLCBjb250ZXh0OiBjb250ZXh0IH0sXG4gICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQXBwMi5kZWZhdWx0LCB7IHByaW1pY0N0eDogcmVzLmxvY2Fscy5jdHgsIFBSSVNNSUNfVU5JVkVSU0FMX0RBVEE6IFBSSVNNSUNfVU5JVkVSU0FMX0RBVEEgfSlcbiAgICApKTtcblxuICAgIC8vIGNvbnRleHQudXJsIHdpbGwgY29udGFpbiB0aGUgVVJMIHRvIHJlZGlyZWN0IHRvIGlmIGEgPFJlZGlyZWN0PiB3YXMgdXNlZFxuICAgIGlmIChjb250ZXh0LnVybCkge1xuICAgICAgcmV0dXJuIHJlcy5yZWRpcmVjdCgzMDIsIGNvbnRleHQudXJsKTtcbiAgICB9XG5cbiAgICB2YXIgc3RhdHVzID0gY29udGV4dC5pczQwNCA/IDQwNCA6IDIwMDtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyhzdGF0dXMpLnJlbmRlcignaW5kZXgnLCB7IG1hcmt1cDogbWFya3VwLCBQUklTTUlDX1VOSVZFUlNBTF9EQVRBOiBQUklTTUlDX1VOSVZFUlNBTF9EQVRBIH0pO1xuICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgIHJldHVybiBuZXh0KGUubWVzc2FnZSk7XG4gIH0pO1xufVxuXG4vLyBzdGFydCB0aGUgc2VydmVyXG52YXIgcG9ydCA9IHByb2Nlc3MuZW52LlBPUlQgfHwgMzAwMDtcbnZhciBlbnYgPSBcInByb2R1Y3Rpb25cIiB8fCAncHJvZHVjdGlvbic7XG5zZXJ2ZXIubGlzdGVuKHBvcnQsIGZ1bmN0aW9uIChlcnIpIHtcbiAgaWYgKGVycikge1xuICAgIHJldHVybiBjb25zb2xlLmVycm9yKGVycik7XG4gIH1cbiAgcmV0dXJuIGNvbnNvbGUuaW5mbygnXFxuICAgICAgU2VydmVyIHJ1bm5pbmcgb24gaHR0cDovL2xvY2FsaG9zdDonICsgcG9ydCArICcgWycgKyBlbnYgKyAnXVxcbiAgICAnKTtcbn0pO1xuXG4vKioqLyB9KSxcbi8qIDYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicGF0aFwiKTtcblxuLyoqKi8gfSksXG4vKiA3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImh0dHBcIik7XG5cbi8qKiovIH0pLFxuLyogOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xuXG4vKioqLyB9KSxcbi8qIDkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicHJpc21pYy1qYXZhc2NyaXB0XCIpO1xuXG4vKioqLyB9KSxcbi8qIDEwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInJlYWN0LWRvbS9zZXJ2ZXJcIik7XG5cbi8qKiovIH0pLFxuLyogMTEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuQXBwID0gdW5kZWZpbmVkO1xuXG52YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcm91dGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG5cbnZhciBfcm91dGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JvdXRlcik7XG5cbnZhciBfUGFnZSA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cbnZhciBfUGFnZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QYWdlKTtcblxudmFyIF9Ob3RGb3VuZFBhZ2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgQXBwID0gZXhwb3J0cy5BcHAgPSBmdW5jdGlvbiBBcHAocHJvcHMpIHtcbiAgLy9jb3VsZCBwdXQgYSB3cmFwcGVyIGhlcmUgZm9yIGxheW91dCBvciBhbnl0aGluZyBlbHNlXG4gIHJldHVybiAoMCwgX3JvdXRlcjIuZGVmYXVsdCkocHJvcHMpO1xufTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQXBwO1xuXG4vKioqLyB9KSxcbi8qIDEyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9yZWFjdFJvdXRlckRvbSA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbnZhciBfcm91dGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxudmFyIF9yb3V0ZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcm91dGVzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIHByaXNtaWNDdHggPSBfcmVmLnByaXNtaWNDdHgsXG4gICAgICBQUklTTUlDX1VOSVZFUlNBTF9EQVRBID0gX3JlZi5QUklTTUlDX1VOSVZFUlNBTF9EQVRBO1xuXG4gIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICBfcmVhY3RSb3V0ZXJEb20uU3dpdGNoLFxuICAgIG51bGwsXG4gICAgKDAsIF9yb3V0ZXMyLmRlZmF1bHQpKHByaXNtaWNDdHgsIFBSSVNNSUNfVU5JVkVSU0FMX0RBVEEpLm1hcChmdW5jdGlvbiAocm91dGUsIGluZGV4KSB7XG4gICAgICB2YXIgY29weVJvdXRlID0gT2JqZWN0LmFzc2lnbih7fSwgcm91dGUpO1xuICAgICAgaWYgKGNvcHlSb3V0ZS5yZW5kZXIpIGRlbGV0ZSBjb3B5Um91dGUuY29tcG9uZW50O1xuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdFJvdXRlckRvbS5Sb3V0ZSwgX2V4dGVuZHMoeyBrZXk6ICdyb3V0ZS0nICsgaW5kZXggfSwgY29weVJvdXRlKSk7XG4gICAgfSlcbiAgKTtcbn07XG5cbi8qKiovIH0pLFxuLyogMTMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICdkaXYnLFxuICAgIG51bGwsXG4gICAgJ1RoaXMgaXMgbXkgaG9tZXBhZ2UnXG4gICk7XG59O1xuXG4vKioqLyB9KSxcbi8qIDE0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG5mdW5jdGlvbiBVbml2ZXJzYWxDb21wb25lbnQoX3JlZikge1xuICB2YXIgZm5GZXRjaERhdGEgPSBfcmVmLnJlcXVlc3QsXG4gICAgICBXcmFwcGVkQ29tcG9uZW50ID0gX3JlZi5jb21wb25lbnQ7XG5cbiAgaWYgKCFmbkZldGNoRGF0YSkgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHByaXNtaWMgcXVlcnkgaW4gRmV0Y2ggRGVjb3JhdG9yIDwtLT4gUHJpc21pYyBSZWFjdCcpO1xuXG4gIHJldHVybiBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhfY2xhc3MsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gX2NsYXNzKHByb3BzKSB7XG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgX2NsYXNzKTtcblxuICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKF9jbGFzcy5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKF9jbGFzcykpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgIFBSSVNNSUNfVU5JVkVSU0FMX0RBVEE6IG51bGxcbiAgICAgIH07XG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKF9jbGFzcywgW3tcbiAgICAgIGtleTogJ2lzVmFsaWRPYmplY3QnLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGlzVmFsaWRPYmplY3Qob2JqKSB7XG4gICAgICAgIHJldHVybiBvYmogJiYgb2JqLmNvbnN0cnVjdG9yID09PSBPYmplY3QgJiYgT2JqZWN0LmtleXMob2JqKS5sZW5ndGggPiAwO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogJ2NvbXBvbmVudFdpbGxNb3VudCcsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICB0aGlzLmlzVmFsaWRPYmplY3QodGhpcy5wcm9wcy5QUklTTUlDX1VOSVZFUlNBTF9EQVRBKSA/IFByb21pc2UucmVzb2x2ZSh0aGlzLnByb3BzLlBSSVNNSUNfVU5JVkVSU0FMX0RBVEEpIDogZm5GZXRjaERhdGEodGhpcy5wcm9wcy5wcmlzbWljQ3R4LCB0aGlzLnByb3BzKS50aGVuKGZ1bmN0aW9uIChQUklTTUlDX1VOSVZFUlNBTF9EQVRBKSB7XG4gICAgICAgICAgX3RoaXMyLnNldFN0YXRlKHsgUFJJU01JQ19VTklWRVJTQUxfREFUQTogUFJJU01JQ19VTklWRVJTQUxfREFUQSB9KTtcbiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICByZXR1cm4gY29uc29sZS5sb2coZS5tZXNzYWdlKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhwcm9wcykge1xuICAgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgICBmbkZldGNoRGF0YShwcm9wcy5wcmlzbWljQ3R4LCBwcm9wcykudGhlbihmdW5jdGlvbiAoUFJJU01JQ19VTklWRVJTQUxfREFUQSkge1xuICAgICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7IFBSSVNNSUNfVU5JVkVSU0FMX0RBVEE6IFBSSVNNSUNfVU5JVkVSU0FMX0RBVEEgfSk7XG4gICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGUubWVzc2FnZSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogJ3JlbmRlcicsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXG4gICAgICAgIHZhciByZWZyZXNoZWRTdGF0ZSA9IHRoaXMuc3RhdGUuUFJJU01JQ19VTklWRVJTQUxfREFUQSA/IHsgUFJJU01JQ19VTklWRVJTQUxfREFUQTogdGhpcy5zdGF0ZS5QUklTTUlDX1VOSVZFUlNBTF9EQVRBIH0gOiB7fTtcbiAgICAgICAgdmFyIG5ld1Byb3BzID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5wcm9wcywgcmVmcmVzaGVkU3RhdGUpO1xuICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoV3JhcHBlZENvbXBvbmVudCwgbmV3UHJvcHMpO1xuICAgICAgfVxuICAgIH1dLCBbe1xuICAgICAga2V5OiAnUFJJU01JQ19GRVRDSF9SRVFVRVNUJyxcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBQUklTTUlDX0ZFVENIX1JFUVVFU1QoKSB7XG4gICAgICAgIHJldHVybiBmbkZldGNoRGF0YTtcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gX2NsYXNzO1xuICB9KF9yZWFjdDIuZGVmYXVsdC5Db21wb25lbnQpO1xufVxuXG5leHBvcnRzLmRlZmF1bHQgPSB7IFVuaXZlcnNhbENvbXBvbmVudDogVW5pdmVyc2FsQ29tcG9uZW50IH07XG5cbi8qKiovIH0pLFxuLyogMTUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHtcblxuICBhcGlFbmRwb2ludDogJ2h0dHBzOi8vcHJpc21pYy11bml2ZXJzYWwucHJpc21pYy5pby9hcGkvdjInLFxuXG4gIC8vIC0tIEFjY2VzcyB0b2tlbiBpZiB0aGUgTWFzdGVyIGlzIG5vdCBvcGVuXG4gIC8vIGFjY2Vzc1Rva2VuOiAneHh4eHh4JyxcblxuICAvLyBPQXV0aFxuICAvLyBjbGllbnRJZDogJ3h4eHh4eCcsXG4gIC8vIGNsaWVudFNlY3JldDogJ3h4eHh4eCcsXG5cbiAgLy8gLS0gTGlua3MgcmVzb2x1dGlvbiBydWxlc1xuICAvLyBUaGlzIGZ1bmN0aW9uIHdpbGwgYmUgdXNlZCB0byBnZW5lcmF0ZSBsaW5rcyB0byBQcmlzbWljLmlvIGRvY3VtZW50c1xuICAvLyBBcyB5b3VyIHByb2plY3QgZ3Jvd3MsIHlvdSBzaG91bGQgdXBkYXRlIHRoaXMgZnVuY3Rpb24gYWNjb3JkaW5nIHRvIHlvdXIgcm91dGVzXG4gIGxpbmtSZXNvbHZlcjogZnVuY3Rpb24gbGlua1Jlc29sdmVyKGRvYywgY3R4KSB7XG4gICAgcmV0dXJuICcvJztcbiAgfVxufTtcblxuLyoqKi8gfSlcbi8qKioqKiovIF0pO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzZXJ2ZXIuanMiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA1KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL2Jvb3RzdHJhcCAzYzA0YWY4YTk4ZDViOTY1OTlhZiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInJlYWN0XCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwicmVhY3RcIlxuLy8gbW9kdWxlIGlkID0gMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWFjdC1yb3V0ZXItZG9tXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwicmVhY3Qtcm91dGVyLWRvbVwiXG4vLyBtb2R1bGUgaWQgPSAxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qIGVzbGludCByZWFjdC9mb3JiaWQtcHJvcC10eXBlczogXCJvZmZcIiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgTGluayB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xuXG5leHBvcnQgY2xhc3MgTm90Rm91bmRQYWdlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgIGNvbnN0IHsgc3RhdGljQ29udGV4dCB9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAoc3RhdGljQ29udGV4dCkge1xuICAgICAgc3RhdGljQ29udGV4dC5pczQwNCA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoPGRpdiBjbGFzc05hbWU9XCJub3QtZm91bmRcIj5cbiAgICAgIDxoMT40MDQ8L2gxPlxuICAgICAgPGgyPlBhZ2Ugbm90IGZvdW5kITwvaDI+XG4gICAgICA8cD5cbiAgICAgICAgPExpbmsgdG89XCIvXCI+R28gYmFjayB0byB0aGUgbWFpbiBwYWdlPC9MaW5rPlxuICAgICAgPC9wPlxuICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTm90Rm91bmRQYWdlO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3NoYXJlZC9hcHAvTm90Rm91bmRQYWdlLmpzIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBIb21lIGZyb20gJy4vYXBwL0hvbWUnO1xuaW1wb3J0IFBhZ2UgZnJvbSAnLi9hcHAvUGFnZSc7XG5pbXBvcnQgTm90Rm91bmRQYWdlIGZyb20gJy4vYXBwL05vdEZvdW5kUGFnZSc7XG5cbmV4cG9ydCBkZWZhdWx0IChwcmlzbWljQ3R4LCBQUklTTUlDX1VOSVZFUlNBTF9EQVRBKSA9PiB7XG4gIHJldHVybiBbXG4gICAgeyBwYXRoOiAnLycsXG4gICAgICBjb21wb25lbnQ6IEhvbWUsXG4gICAgICBleGFjdDogdHJ1ZVxuICAgIH0sXG4gICAge1xuICAgICAgcGF0aDogJy9wYWdlLzp1aWQnLFxuICAgICAgLy9tdXN0IGJlIHNwZWNpZmllZCBldmVuIHdpdGggYSByZW5kZXIgZnVuY3Rpb25cbiAgICAgIGNvbXBvbmVudDogUGFnZSxcbiAgICAgIHJlbmRlcihwcm9wcykge1xuICAgICAgICByZXR1cm4gPFBhZ2Ugey4uLnByb3BzfSBwcmlzbWljQ3R4PXtwcmlzbWljQ3R4fSBQUklTTUlDX1VOSVZFUlNBTF9EQVRBPXtQUklTTUlDX1VOSVZFUlNBTF9EQVRBfSAvPjtcbiAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgIGNvbXBvbmVudDogTm90Rm91bmRQYWdlXG4gICAgfVxuICBdO1xufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9zaGFyZWQvcm91dGVzLmpzIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBOb3RGb3VuZCBmcm9tICcuL05vdEZvdW5kUGFnZSc7XG5cbmltcG9ydCB7IExpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcblxuaW1wb3J0IFByaXNtaWNSZWFjdCBmcm9tICcuLi8uLi9wcmlzbWljLXJlYWN0JztcblxuY2xhc3MgUGFnZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIFxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICBcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgbm90Rm91bmQ6IGZhbHNlLFxuICAgICAgbGlua1Jlc29sdmVyIDogbnVsbCxcbiAgICB9O1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnByb3BzLlBSSVNNSUNfVU5JVkVSU0FMX0RBVEEpIHtcbiAgICAgIGNvbnN0IGxpbmtVcmwgPSB0aGlzLnByb3BzLlBSSVNNSUNfVU5JVkVSU0FMX0RBVEEudWlkID09PSAnZ2V0LXN0YXJ0ZWQnID8gJy9wYWdlL3NlY29uZC1wYWdlJyA6ICcvcGFnZS9nZXQtc3RhcnRlZCc7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxMaW5rIHRvPXtsaW5rVXJsfT5MaW5rPC9MaW5rPlxuICAgICAgICAgIDxwcmU+XG4gICAgICAgICAge0pTT04uc3RyaW5naWZ5KHRoaXMucHJvcHMuUFJJU01JQ19VTklWRVJTQUxfREFUQSwgbnVsbCwgMil9XG4gICAgICAgICAgPC9wcmU+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUubm90Rm91bmQpIHtcbiAgICAgIHJldHVybiA8Tm90Rm91bmRQYWdlIC8+O1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQcmlzbWljUmVhY3QuVW5pdmVyc2FsQ29tcG9uZW50KHtcbiAgcmVxdWVzdDogKGN0eCwgcHJvcHMpID0+IGN0eC5hcGkuZ2V0QnlVSUQoJ3BhZ2UnLCBwcm9wcy5tYXRjaC5wYXJhbXMudWlkLCB7fSksXG4gIGNvbXBvbmVudDogUGFnZVxufSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3NoYXJlZC9hcHAvUGFnZS5qcyIsIi8qIGVzbGludCBuby1jb25zb2xlOiBcIm9mZlwiICovXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcbmltcG9ydCB7IFNlcnZlciB9IGZyb20gJ2h0dHAnO1xuaW1wb3J0IEV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByaXNtaWMgZnJvbSAncHJpc21pYy1qYXZhc2NyaXB0JztcbmltcG9ydCB7IHJlbmRlclRvU3RyaW5nIH0gZnJvbSAncmVhY3QtZG9tL3NlcnZlcic7XG5pbXBvcnQgeyBTdGF0aWNSb3V0ZXIgYXMgUm91dGVyLCBtYXRjaFBhdGggfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcblxuaW1wb3J0IEFwcCBmcm9tICcuLi9zaGFyZWQvYXBwL0FwcCc7XG5pbXBvcnQgcm91dGVzIGZyb20gJy4uL3NoYXJlZC9yb3V0ZXMuanMnO1xuaW1wb3J0IFByaXNtaWNDb25maWcgZnJvbSAnLi4vcHJpc21pYy1jb25maWd1cmF0aW9uJztcblxuY29uc3QgYXBwID0gbmV3IEV4cHJlc3MoKTtcbmNvbnN0IHNlcnZlciA9IG5ldyBTZXJ2ZXIoYXBwKTtcblxuLy8gdXNlIGVqcyB0ZW1wbGF0ZXNcbmFwcC5zZXQoJ3ZpZXcgZW5naW5lJywgJ2VqcycpO1xuYXBwLnNldCgndmlld3MnLCBwYXRoLmpvaW4oX19kaXJuYW1lLCAnLi4vdmlld3MnKSk7XG5cbi8vIGRlZmluZSB0aGUgZm9sZGVyIHRoYXQgd2lsbCBiZSB1c2VkIGZvciBzdGF0aWMgYXNzZXRzXG5hcHAudXNlKEV4cHJlc3Muc3RhdGljKHBhdGguam9pbihfX2Rpcm5hbWUsICcuLi9kaXN0JykpKTtcblxuLy8gTWlkZGxld2FyZSB0byBpbmplY3QgcHJpc21pYyBjb250ZXh0XG5hcHAudXNlKChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICByZXMubG9jYWxzLmN0eCA9IHtcbiAgICBlbmRwb2ludDogUHJpc21pY0NvbmZpZy5hcGlFbmRwb2ludCxcbiAgICBsaW5rUmVzb2x2ZXI6IFByaXNtaWNDb25maWcubGlua1Jlc29sdmVyLFxuICB9O1xuICAvLyBhZGQgUHJpc21pY0RPTSBpbiBsb2NhbHMgdG8gYWNjZXNzIHRoZW0gaW4gdGVtcGxhdGVzLlxuICBQcmlzbWljLmFwaShQcmlzbWljQ29uZmlnLmFwaUVuZHBvaW50LCB7XG4gICAgYWNjZXNzVG9rZW46IFByaXNtaWNDb25maWcuYWNjZXNzVG9rZW4sXG4gICAgcmVxLFxuICB9KS50aGVuKChhcGkpID0+IHtcbiAgICByZXMubG9jYWxzLmN0eC5hcGkgPSBhcGk7XG4gICAgbmV4dCgpO1xuICB9KS5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICBuZXh0KGVycm9yLm1lc3NhZ2UpO1xuICB9KTtcbn0pO1xuXG4vLyB1bml2ZXJzYWwgcm91dGluZyBhbmQgcmVuZGVyaW5nXG5hcHAuZ2V0KCcqJywgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIHJvdXRlcyhyZXMubG9jYWxzLmN0eCkuc29tZShyb3V0ZSA9PiB7XG4gICAgLy8gdXNlIGBtYXRjaFBhdGhgIGhlcmVcbiAgICBjb25zdCBtYXRjaCA9IG1hdGNoUGF0aChyZXEudXJsLCByb3V0ZSk7XG4gICAgaWYgKG1hdGNoKSBtYWtlQXN5bmNSZW5kZXIocmVxLCByZXMsIG5leHQsIHJvdXRlLCBtYXRjaCk7XG4gICAgcmV0dXJuIG1hdGNoO1xuICB9KTtcbn0pO1xuXG4vL2V4ZWMgYXN5bmMgcmVuZGVyIGZvciBtYXRjaGluZyByb3V0ZVxuZnVuY3Rpb24gbWFrZUFzeW5jUmVuZGVyKHJlcSwgcmVzLCBuZXh0LCByb3V0ZSwgbWF0Y2gpIHtcbiAgY29uc3QgZmV0Y2hBc3luY0RhdGEgPSAocm91dGUuY29tcG9uZW50LlBSSVNNSUNfRkVUQ0hfUkVRVUVTVCAmJiByb3V0ZS5jb21wb25lbnQuUFJJU01JQ19GRVRDSF9SRVFVRVNUKCkpIHx8ICgoKSA9PiBQcm9taXNlLnJlc29sdmUoKSk7XG4gIGZldGNoQXN5bmNEYXRhKHJlcy5sb2NhbHMuY3R4LCAvKnByb3BzKi97bWF0Y2h9KVxuICAudGhlbigoUFJJU01JQ19VTklWRVJTQUxfREFUQSA9IHt9KSA9PiB7XG4gICAgY29uc3QgY29udGV4dCA9IHt9O1xuICAgIGNvbnN0IG1hcmt1cCA9IHJlbmRlclRvU3RyaW5nKFxuICAgICAgPFJvdXRlciBsb2NhdGlvbj17cmVxLnVybH0gY29udGV4dD17Y29udGV4dH0+XG4gICAgICAgIDxBcHAgcHJpbWljQ3R4PXtyZXMubG9jYWxzLmN0eH0gUFJJU01JQ19VTklWRVJTQUxfREFUQT17UFJJU01JQ19VTklWRVJTQUxfREFUQX0gLz5cbiAgICAgIDwvUm91dGVyPlxuICAgICk7XG5cbiAgICAvLyBjb250ZXh0LnVybCB3aWxsIGNvbnRhaW4gdGhlIFVSTCB0byByZWRpcmVjdCB0byBpZiBhIDxSZWRpcmVjdD4gd2FzIHVzZWRcbiAgICBpZiAoY29udGV4dC51cmwpIHtcbiAgICAgIHJldHVybiByZXMucmVkaXJlY3QoMzAyLCBjb250ZXh0LnVybCk7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHN0YXR1cyA9IGNvbnRleHQuaXM0MDQgPyA0MDQgOiAyMDA7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoc3RhdHVzKS5yZW5kZXIoJ2luZGV4JywgeyBtYXJrdXAsIFBSSVNNSUNfVU5JVkVSU0FMX0RBVEEgfSk7XG4gIH0pXG4gIC5jYXRjaCgoZSkgPT4gbmV4dChlLm1lc3NhZ2UpKTtcbn1cblxuLy8gc3RhcnQgdGhlIHNlcnZlclxuY29uc3QgcG9ydCA9IHByb2Nlc3MuZW52LlBPUlQgfHwgMzAwMDtcbmNvbnN0IGVudiA9IHByb2Nlc3MuZW52Lk5PREVfRU5WIHx8ICdwcm9kdWN0aW9uJztcbnNlcnZlci5saXN0ZW4ocG9ydCwgKGVycikgPT4ge1xuICBpZiAoZXJyKSB7XG4gICAgcmV0dXJuIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgfVxuICByZXR1cm4gY29uc29sZS5pbmZvKFxuICAgIGBcbiAgICAgIFNlcnZlciBydW5uaW5nIG9uIGh0dHA6Ly9sb2NhbGhvc3Q6JHtwb3J0fSBbJHtlbnZ9XVxuICAgIGApO1xufSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvc2VydmVyL2luZGV4LmpzIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicGF0aFwiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcInBhdGhcIlxuLy8gbW9kdWxlIGlkID0gNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJodHRwXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwiaHR0cFwiXG4vLyBtb2R1bGUgaWQgPSA3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImV4cHJlc3NcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJleHByZXNzXCJcbi8vIG1vZHVsZSBpZCA9IDhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicHJpc21pYy1qYXZhc2NyaXB0XCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwicHJpc21pYy1qYXZhc2NyaXB0XCJcbi8vIG1vZHVsZSBpZCA9IDlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicmVhY3QtZG9tL3NlcnZlclwiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcInJlYWN0LWRvbS9zZXJ2ZXJcIlxuLy8gbW9kdWxlIGlkID0gMTBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHJvdXRlciBmcm9tICcuLi9yb3V0ZXInO1xuaW1wb3J0IFBhZ2UgZnJvbSAnLi9QYWdlJztcbmltcG9ydCB7IE5vdEZvdW5kUGFnZSB9IGZyb20gJy4vTm90Rm91bmRQYWdlJztcblxuZXhwb3J0IGNvbnN0IEFwcCA9IChwcm9wcykgPT4ge1xuICAvL2NvdWxkIHB1dCBhIHdyYXBwZXIgaGVyZSBmb3IgbGF5b3V0IG9yIGFueXRoaW5nIGVsc2VcbiAgcmV0dXJuIHJvdXRlcihwcm9wcylcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEFwcDtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9zaGFyZWQvYXBwL0FwcC5qcyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBSb3V0ZSwgU3dpdGNoIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XG5cbmltcG9ydCByb3V0ZXMgZnJvbSAnLi9yb3V0ZXMnO1xuXG5leHBvcnQgZGVmYXVsdCAoKHtwcmlzbWljQ3R4LCBQUklTTUlDX1VOSVZFUlNBTF9EQVRBfSkgPT4ge1xuICByZXR1cm4gKFxuICAgIDxTd2l0Y2g+XG4gICAgICB7cm91dGVzKHByaXNtaWNDdHgsIFBSSVNNSUNfVU5JVkVSU0FMX0RBVEEpLm1hcCgocm91dGUsIGluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGNvcHlSb3V0ZSA9IE9iamVjdC5hc3NpZ24oe30sIHJvdXRlKTtcbiAgICAgICAgaWYoY29weVJvdXRlLnJlbmRlcikgZGVsZXRlIGNvcHlSb3V0ZS5jb21wb25lbnQ7XG4gICAgICAgIHJldHVybiA8Um91dGUga2V5PXtgcm91dGUtJHtpbmRleH1gfSB7Li4uY29weVJvdXRlfS8+O1xuICAgICAgfSl9XG4gICAgPC9Td2l0Y2g+XG4gICk7XG59KTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvc2hhcmVkL3JvdXRlci5qcyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0ICgocHJvcHMpID0+IHtcbiAgcmV0dXJuIDxkaXY+VGhpcyBpcyBteSBob21lcGFnZTwvZGl2Pjtcbn0pO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9zaGFyZWQvYXBwL0hvbWUuanMiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5mdW5jdGlvbiBVbml2ZXJzYWxDb21wb25lbnQoe3JlcXVlc3Q6IGZuRmV0Y2hEYXRhLCBjb21wb25lbnQ6IFdyYXBwZWRDb21wb25lbnR9KSB7XG4gIGlmICghZm5GZXRjaERhdGEpIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBwcmlzbWljIHF1ZXJ5IGluIEZldGNoIERlY29yYXRvciA8LS0+IFByaXNtaWMgUmVhY3QnKTtcblxuICByZXR1cm4gY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICAgIHN1cGVyKHByb3BzKTtcblxuICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgUFJJU01JQ19VTklWRVJTQUxfREFUQTogbnVsbFxuICAgICAgfTtcbiAgICB9XG4gICAgXG4gICAgc3RhdGljIFBSSVNNSUNfRkVUQ0hfUkVRVUVTVCgpIHtcbiAgICAgIHJldHVybiBmbkZldGNoRGF0YTtcbiAgICB9XG5cbiAgICBpc1ZhbGlkT2JqZWN0KG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiBvYmouY29uc3RydWN0b3IgPT09IE9iamVjdCAmJiBPYmplY3Qua2V5cyhvYmopLmxlbmd0aCA+IDA7XG4gICAgfVxuXG4gICAgY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgICAgdGhpcy5pc1ZhbGlkT2JqZWN0KHRoaXMucHJvcHMuUFJJU01JQ19VTklWRVJTQUxfREFUQSkgPyBQcm9taXNlLnJlc29sdmUodGhpcy5wcm9wcy5QUklTTUlDX1VOSVZFUlNBTF9EQVRBKSA6IGZuRmV0Y2hEYXRhKHRoaXMucHJvcHMucHJpc21pY0N0eCwgdGhpcy5wcm9wcylcbiAgICAgIC50aGVuKChQUklTTUlDX1VOSVZFUlNBTF9EQVRBKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1BSSVNNSUNfVU5JVkVSU0FMX0RBVEF9KTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGUpID0+IGNvbnNvbGUubG9nKGUubWVzc2FnZSkpO1xuICAgIH1cblxuICAgIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMocHJvcHMpIHtcbiAgICAgIGZuRmV0Y2hEYXRhKHByb3BzLnByaXNtaWNDdHgsIHByb3BzKVxuICAgICAgLnRoZW4oKFBSSVNNSUNfVU5JVkVSU0FMX0RBVEEpID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7UFJJU01JQ19VTklWRVJTQUxfREFUQX0pO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZSkgPT4gY29uc29sZS5sb2coZS5tZXNzYWdlKSk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgXG4gICAgICBjb25zdCByZWZyZXNoZWRTdGF0ZSA9IHRoaXMuc3RhdGUuUFJJU01JQ19VTklWRVJTQUxfREFUQSA/IHtQUklTTUlDX1VOSVZFUlNBTF9EQVRBOiB0aGlzLnN0YXRlLlBSSVNNSUNfVU5JVkVSU0FMX0RBVEF9IDoge307XG4gICAgICBjb25zdCBuZXdQcm9wcyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMucHJvcHMsIHJlZnJlc2hlZFN0YXRlKTtcbiAgICAgIHJldHVybiA8V3JhcHBlZENvbXBvbmVudCB7Li4ubmV3UHJvcHN9Lz5cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQge1VuaXZlcnNhbENvbXBvbmVudH07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvcHJpc21pYy1yZWFjdC9pbmRleC5qcyIsImV4cG9ydCBkZWZhdWx0IHtcblxuICBhcGlFbmRwb2ludDogJ2h0dHBzOi8vcHJpc21pYy11bml2ZXJzYWwucHJpc21pYy5pby9hcGkvdjInLFxuXG4gIC8vIC0tIEFjY2VzcyB0b2tlbiBpZiB0aGUgTWFzdGVyIGlzIG5vdCBvcGVuXG4gIC8vIGFjY2Vzc1Rva2VuOiAneHh4eHh4JyxcblxuICAvLyBPQXV0aFxuICAvLyBjbGllbnRJZDogJ3h4eHh4eCcsXG4gIC8vIGNsaWVudFNlY3JldDogJ3h4eHh4eCcsXG5cbiAgLy8gLS0gTGlua3MgcmVzb2x1dGlvbiBydWxlc1xuICAvLyBUaGlzIGZ1bmN0aW9uIHdpbGwgYmUgdXNlZCB0byBnZW5lcmF0ZSBsaW5rcyB0byBQcmlzbWljLmlvIGRvY3VtZW50c1xuICAvLyBBcyB5b3VyIHByb2plY3QgZ3Jvd3MsIHlvdSBzaG91bGQgdXBkYXRlIHRoaXMgZnVuY3Rpb24gYWNjb3JkaW5nIHRvIHlvdXIgcm91dGVzXG4gIGxpbmtSZXNvbHZlcihkb2MsIGN0eCkge1xuICAgIHJldHVybiAnLyc7XG4gIH0sXG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3ByaXNtaWMtY29uZmlndXJhdGlvbi5qcyJdLCJzb3VyY2VSb290IjoiIn0=